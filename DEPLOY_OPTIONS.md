# üöÄ –í–∞—Ä–∏–∞–Ω—Ç—ã –¥–µ–ø–ª–æ—è Backend

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º

| –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ | –¶–µ–Ω–∞ | –°–ª–æ–∂–Ω–æ—Å—Ç—å | –ê–≤—Ç–æ–¥–µ–ø–ª–æ–π | –ë–î | –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å | –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è |
|-----------|------|-----------|------------|-----|-------------------|--------------|
| **Railway** | –ë–µ—Å–ø–ª–∞—Ç–Ω–æ ($5/–º–µ—Å) | ‚≠ê –õ–µ–≥–∫–æ | ‚úÖ GitHub | ‚úÖ PostgreSQL, Redis | ‚≠ê‚≠ê‚≠ê‚≠ê | ü•á **–õ—É—á—à–∏–π –≤—ã–±–æ—Ä** |
| **Render** | –ë–µ—Å–ø–ª–∞—Ç–Ω–æ (750—á/–º–µ—Å) | ‚≠ê –õ–µ–≥–∫–æ | ‚úÖ GitHub | ‚úÖ PostgreSQL, Redis | ‚≠ê‚≠ê‚≠ê | ü•à –•–æ—Ä–æ—à–æ |
| **Fly.io** | –ë–µ—Å–ø–ª–∞—Ç–Ω–æ (3 VMs) | ‚≠ê‚≠ê –°—Ä–µ–¥–Ω–µ | ‚úÖ GitHub | ‚ö†Ô∏è –ù—É–∂–Ω–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | ü•â –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π |
| **DigitalOcean** | $5/–º–µ—Å | ‚≠ê –õ–µ–≥–∫–æ | ‚úÖ GitHub | ‚úÖ PostgreSQL, Redis | ‚≠ê‚≠ê‚≠ê‚≠ê | üí∞ –ü–ª–∞—Ç–Ω—ã–π |
| **PythonAnywhere** | –ë–µ—Å–ø–ª–∞—Ç–Ω–æ/–ø–ª–∞—Ç–Ω–æ | ‚≠ê‚≠ê‚≠ê –°–ª–æ–∂–Ω–æ | ‚ùå –†—É—á–Ω–æ–π | ‚ö†Ô∏è –û–≥—Ä–∞–Ω–∏—á–µ–Ω–æ | ‚≠ê‚≠ê | ‚ö†Ô∏è –ù–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è |

---

## ü•á 1. Railway (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø)

### –ü–ª—é—Å—ã:
- ‚úÖ **–ë–µ—Å–ø–ª–∞—Ç–Ω–æ**: $5 –∫—Ä–µ–¥–∏—Ç–æ–≤ –≤ –º–µ—Å—è—Ü (—Ö–≤–∞—Ç–∞–µ—Ç –¥–ª—è MVP)
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π** –∏–∑ GitHub
- ‚úÖ **–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ PostgreSQL –∏ Redis** (1 –∫–ª–∏–∫)
- ‚úÖ **–û—á–µ–Ω—å –ø—Ä–æ—Å—Ç–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞** (5 –º–∏–Ω—É—Ç)
- ‚úÖ **–û—Ç–ª–∏—á–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**
- ‚úÖ **HTTPS –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏**
- ‚úÖ **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏**

### –ú–∏–Ω—É—Å—ã:
- ‚ö†Ô∏è –ü–ª–∞—Ç–Ω—ã–π —Ç–∞—Ä–∏—Ñ –ø–æ—Å–ª–µ $5 –∫—Ä–µ–¥–∏—Ç–æ–≤

### –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç:
1. –ó–∞–π–¥–∏—Ç–µ –Ω–∞ https://railway.app
2. –í–æ–π–¥–∏—Ç–µ —á–µ—Ä–µ–∑ GitHub
3. New Project ‚Üí Deploy from GitHub repo
4. –í—ã–±–µ—Ä–∏—Ç–µ `vasilievyakov/tgcursor2`
5. Settings ‚Üí Root Directory: `backend`
6. –î–æ–±–∞–≤—å—Ç–µ PostgreSQL –∏ Redis
7. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
8. Start Command: `uvicorn app.main:app --host 0.0.0.0 --port $PORT`

**–í—Ä–µ–º—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:** 5-10 –º–∏–Ω—É—Ç  
**–°—Ç–æ–∏–º–æ—Å—Ç—å:** $0 –¥–ª—è —Å—Ç–∞—Ä—Ç–∞

---

## ü•à 2. Render

### –ü–ª—é—Å—ã:
- ‚úÖ **–ë–µ—Å–ø–ª–∞—Ç–Ω–æ**: 750 —á–∞—Å–æ–≤/–º–µ—Å—è—Ü
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π** –∏–∑ GitHub
- ‚úÖ **–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ PostgreSQL –∏ Redis**
- ‚úÖ **HTTPS –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏**
- ‚úÖ **–ü—Ä–æ—Å—Ç–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞**

### –ú–∏–Ω—É—Å—ã:
- ‚ö†Ô∏è **–°–µ—Ä–≤–∏—Å –∑–∞—Å—ã–ø–∞–µ—Ç** –ø–æ—Å–ª–µ 15 –º–∏–Ω—É—Ç –±–µ–∑–¥–µ–π—Å—Ç–≤–∏—è (–ø–µ—Ä–≤—ã–π –∑–∞–ø—Ä–æ—Å –¥–æ–ª–≥–∏–π)
- ‚ö†Ô∏è –ú–µ–¥–ª–µ–Ω–Ω–µ–µ Railway

### –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç:
1. –ó–∞–π–¥–∏—Ç–µ –Ω–∞ https://render.com
2. –í–æ–π–¥–∏—Ç–µ —á–µ—Ä–µ–∑ GitHub
3. New ‚Üí Web Service
4. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π `vasilievyakov/tgcursor2`
5. –ù–∞—Å—Ç—Ä–æ–π–∫–∏:
   - Root Directory: `backend`
   - Build Command: `pip install -r requirements.txt`
   - Start Command: `uvicorn app.main:app --host 0.0.0.0 --port $PORT`
6. –î–æ–±–∞–≤—å—Ç–µ PostgreSQL –∏ Redis
7. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

**–í—Ä–µ–º—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:** 10-15 –º–∏–Ω—É—Ç  
**–°—Ç–æ–∏–º–æ—Å—Ç—å:** $0

---

## ü•â 3. Fly.io

### –ü–ª—é—Å—ã:
- ‚úÖ **–ë–µ—Å–ø–ª–∞—Ç–Ω–æ**: 3 shared-cpu VMs
- ‚úÖ **–û—Ç–ª–∏—á–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**
- ‚úÖ **–ì–ª–æ–±–∞–ª—å–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ** (–±–ª–∏–∑–∫–æ –∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º)
- ‚úÖ **–ù–µ –∑–∞—Å—ã–ø–∞–µ—Ç** (–≤—Å–µ–≥–¥–∞ –æ–Ω–ª–∞–π–Ω)
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π** –∏–∑ GitHub
- ‚úÖ **Dockerfile —É–∂–µ –µ—Å—Ç—å** ‚úÖ

### –ú–∏–Ω—É—Å—ã:
- ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç –±–æ–ª—å—à–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- ‚ö†Ô∏è PostgreSQL –∏ Redis –Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ

### –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç:
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Fly CLI: `curl -L https://fly.io/install.sh | sh`
2. –ó–∞–π–¥–∏—Ç–µ –Ω–∞ https://fly.io –∏ –≤–æ–π–¥–∏—Ç–µ
3. `fly launch` –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `backend`
4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ `fly.toml`
5. –î–æ–±–∞–≤—å—Ç–µ PostgreSQL: `fly postgres create`
6. –î–æ–±–∞–≤—å—Ç–µ Redis: `fly redis create`
7. `fly deploy`

**–í—Ä–µ–º—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:** 15-20 –º–∏–Ω—É—Ç  
**–°—Ç–æ–∏–º–æ—Å—Ç—å:** $0

---

## üí∞ 4. DigitalOcean App Platform

### –ü–ª—é—Å—ã:
- ‚úÖ **–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å**
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π** –∏–∑ GitHub
- ‚úÖ **–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ PostgreSQL –∏ Redis**
- ‚úÖ **–û—Ç–ª–∏—á–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**
- ‚úÖ **–ù–µ –∑–∞—Å—ã–ø–∞–µ—Ç**

### –ú–∏–Ω—É—Å—ã:
- ‚ö†Ô∏è **–ü–ª–∞—Ç–Ω—ã–π**: –º–∏–Ω–∏–º—É–º $5/–º–µ—Å—è—Ü
- ‚ö†Ô∏è –ù–µ—Ç –±–µ—Å–ø–ª–∞—Ç–Ω–æ–≥–æ —Ç–∞—Ä–∏—Ñ–∞

### –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç:
1. –ó–∞–π–¥–∏—Ç–µ –Ω–∞ https://cloud.digitalocean.com
2. App Platform ‚Üí Create App
3. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ:
   - Root Directory: `backend`
   - Build Command: `pip install -r requirements.txt`
   - Start Command: `uvicorn app.main:app --host 0.0.0.0 --port $PORT`
5. –î–æ–±–∞–≤—å—Ç–µ PostgreSQL –∏ Redis
6. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

**–í—Ä–µ–º—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:** 10-15 –º–∏–Ω—É—Ç  
**–°—Ç–æ–∏–º–æ—Å—Ç—å:** $5/–º–µ—Å—è—Ü

---

## ‚ö†Ô∏è 5. PythonAnywhere

### –ü–ª—é—Å—ã:
- ‚úÖ –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π —Ç–∞—Ä–∏—Ñ –¥–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö
- ‚úÖ –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è Python

### –ú–∏–Ω—É—Å—ã:
- ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç –º–Ω–æ–≥–æ —Ä—É—á–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- ‚ö†Ô∏è –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π —Ç–∞—Ä–∏—Ñ
- ‚ö†Ô∏è –ù–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –¥–µ–ø–ª–æ—è –∏–∑ GitHub
- ‚ö†Ô∏è –ù–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö PostgreSQL/Redis

**–ù–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è —ç—Ç–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞**

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è

### –î–ª—è MVP / –î–µ–º–æ:
**Railway** ‚Äî –ª—É—á—à–∏–π –≤—ã–±–æ—Ä:
- –ë—ã—Å—Ç—Ä–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ (5 –º–∏–Ω—É—Ç)
- –ë–µ—Å–ø–ª–∞—Ç–Ω–æ –¥–ª—è —Å—Ç–∞—Ä—Ç–∞
- –í—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–∑ –∫–æ—Ä–æ–±–∫–∏

### –î–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω —Å –±—é–¥–∂–µ—Ç–æ–º:
**Fly.io** –∏–ª–∏ **DigitalOcean**:
- –õ—É—á—à–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- –ù–µ –∑–∞—Å—ã–ø–∞–µ—Ç
- –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å

### –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
**Render**:
- –ë–µ—Å–ø–ª–∞—Ç–Ω–æ
- –ü—Ä–æ—Å—Ç–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
- –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Ç–µ—Å—Ç–æ–≤

---

## üìã –ß—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è –ª—é–±–æ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞:

1. **Telegram API credentials:**
   - –ü–æ–ª—É—á–∏—Ç–µ –Ω–∞ https://my.telegram.org/apps
   - `TELEGRAM_API_ID`
   - `TELEGRAM_API_HASH`

2. **SECRET_KEY:**
   ```bash
   python -c "import secrets; print(secrets.token_urlsafe(32))"
   ```

3. **ALLOWED_ORIGINS:**
   ```
   https://vasilievyakov.github.io,https://vasilievyakov.github.io/tgcursor2
   ```

4. **–ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î:**
   ```bash
   alembic upgrade head
   ```

---

## üîÑ –ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è:

1. –ü–æ–ª—É—á–∏—Ç–µ URL backend (–Ω–∞–ø—Ä–∏–º–µ—Ä: `https://your-app.railway.app`)
2. –û–±–Ω–æ–≤–∏—Ç–µ `VITE_API_URL` secret –≤ GitHub:
   ```bash
   gh secret set VITE_API_URL --body "https://your-backend-url.railway.app" --repo vasilievyakov/tgcursor2
   ```
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ frontend workflow:
   ```bash
   gh workflow run deploy-pages.yml --repo vasilievyakov/tgcursor2
   ```

---

## ‚ùì –ö–∞–∫–æ–π –≤—ã–±—Ä–∞—Ç—å?

**–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –±—ã—Å—Ç—Ä–æ –∏ –±–µ—Å–ø–ª–∞—Ç–Ω–æ:** Railway  
**–ï—Å–ª–∏ –Ω—É–∂–Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** Fly.io  
**–ï—Å–ª–∏ –µ—Å—Ç—å –±—é–¥–∂–µ—Ç:** DigitalOcean  
**–ï—Å–ª–∏ Railway –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç:** Render

